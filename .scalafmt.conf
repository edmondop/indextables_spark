version = "3.7.17"
runner.dialect = scala212

# Basic formatting settings
maxColumn = 120
assumeStandardLibraryStripMargin = true
align.preset = more
align.multiline = false

# Indentation
continuationIndent.defnSite = 2
continuationIndent.callSite = 2
continuationIndent.extendSite = 4

# Newlines
newlines.beforeCurlyLambdaParams = multilineWithCaseOnly
newlines.afterCurlyLambdaParams = squash
newlines.implicitParamListModifierPrefer = before
newlines.avoidForSimpleOverflow = [punct, slc, tooLong]

# Rewrite rules including import organization
rewrite.rules = [RedundantBraces, RedundantParens, SortModifiers, PreferCurlyFors, SortImports]
rewrite.redundantBraces.stringInterpolation = true

# Import organization
rewrite.imports.sort = ascii
rewrite.imports.groups = [
  ["javax?\\..*"],
  ["scala\\..*"],
  ["org\\.apache\\.spark\\..*"],
  ["org\\.apache\\.hadoop\\..*"],
  [".*"]
]
rewrite.imports.contiguousGroups = only

# Docstrings
docstrings.style = Asterisk
docstrings.oneline = fold

# Vertical multiline
verticalMultiline.atDefnSite = true
verticalMultiline.arityThreshold = 3
verticalMultiline.newlineAfterOpenParen = true

# Spaces
spaces.inImportCurlyBraces = false
spaces.beforeContextBoundColon = Never

# Project settings
project.git = true
